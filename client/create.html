<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Blog</title>
    <base href="/">
    <link rel='stylesheet' href='/styles.css'>
    <script src="/utils.js" type="text/javascript"></script>
  </head>

  <body>
    <div>
      <h1>Create Post</h1>
      <form id="post" name="post">
        <label>Title:</label>
        <input id="title" type="text" name="title" placeholder="Title" value=""/>
        <label>Description:</label>
        <textarea id="description" name="description" value=""></textarea>
        <button type="submit">Create</button>
        <a href="/index.html">All posts</a>
      </form>
    </div>

    <script>
    const form = document.getElementById("post");
    const titleInput = document.getElementById("title");
    const descriptionInput = document.getElementById("description");

    form.addEventListener("submit", function (event) {
      event.preventDefault();

      const data = {
        title: titleInput.value,
        description: descriptionInput.value,
      };

      api("POST", "/admin/posts/create", data).then(res => {
        console.log(res);
      }).catch(error => {
        console.log(error);
      });
    });
    </script>
  </body>
</html>
